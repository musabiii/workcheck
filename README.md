# Work Check

Трекер активности за компьютером: считает время работы и перерывов, напоминает об отдыхе (Pomodoro) и уведомляет при долгой неактивности.

## Возможности

- **Отслеживание активности** — учёт движений мыши, кликов, прокрутки и нажатий клавиш
- **Таймер текущей сессии** — в консоли обновляется строка: минуты сессии, всего отработано и вне работы (в минутах)
- **Pomodoro** — напоминание отдохнуть после 25 минут работы; второе напоминание (с отправкой в Telegram) после 40 минут
- **Короткий перерыв** — после 5 минут без активности сессия считается перерывом; при возвращении — уведомление «С возвращением!»
- **Долгая неактивность** — после 15 минут без активности уведомление в Telegram (в рабочее время 9–18) и системное уведомление Windows
- **Итоги при завершении** — по Ctrl+C выводится общее время работы и время вне работы

## Установка

1. Клонируйте репозиторий и перейдите в каталог:
   ```bash
   cd workcheck
   ```

2. Создайте виртуальное окружение и установите зависимости:
   ```bash
   python -m venv .venv
   .venv\Scripts\activate   # Windows
   pip install -r requirements.txt
   ```

3. Создайте файл `.env` в корне проекта:
   ```
   TELEGRAM_BOT_TOKEN=ваш_токен_бота
   TELEGRAM_CHAT_ID=ваш_chat_id
   ```
   Telegram-уведомления работают только при заданных переменных. Уведомления Windows (plyer) не требуют настройки.

## Запуск

```bash
python main.py
```

Остановка: **Ctrl+C**. Перед выходом выведется итог: сколько отработано и сколько вне работы.

### Параметры командной строки

| Параметр | Описание |
|----------|----------|
| `-D`, `--debug` | Короткие интервалы для теста (Pomodoro 10 с, перерыв 5 с, неактивность 15 с) |
| `-L`, `--long` | Удлинённый режим: Pomodoro 40 мин, неактивность 25 мин, перерыв 10 мин |
| `-P`, `--pomodoro N` | Интервал Pomodoro в минутах (например: `-P 30`) |

Примеры:

```bash
python main.py --debug
python main.py --long
python main.py --pomodoro 30
```

## Настройки по умолчанию

В коде заданы константы (при необходимости их можно поменять):

- **Неактивность** — 15 минут (порог «работать»)
- **Pomodoro** — 25 минут (напоминание отдохнуть)
- **Pomodoro 2** — 40 минут (напоминание + Telegram)
- **Короткий перерыв** — 5 минут без активности

## Зависимости

- **pynput** — отслеживание мыши и клавиатуры
- **plyer** — системные уведомления (Windows)
- **python-dotenv** — загрузка `.env`
- **pendulum** — форматирование длительностей (русская локаль)
- **requests** — отправка в Telegram API
- **rich** — цветной лог и вывод в консоль

## Лицензия

Проект для личного использования.
